# TierWorks — спецификация

## Цели
- **UI‑first**, затем функциональность, затем деплой на GitHub Pages.
- **Язык по умолчанию**: русский. **Тема**: Indigo/Slate, без переключателя темы.
- **Бандлер/дев‑сервер**: esbuild + live‑server (без Vite). **Роутер**: `HashRouter`.
- **Основная идея**: конструктор тир‑листов с возможностью загружать свою базу (изображение + подпись), сохранять как шаблон, делиться и использовать публичные подборки.

## Публичные наборы (названия, id, cover)
Карточки в галерее публичных наборов кликабельны и ведут на страницу интерактивного ранжирования. Обложки лежат в `public/covers/`.

- **Сериалы 2000–2025** (`tv-2000-2025`) — cover: `series.png`
- **Футбольные команды** (`football-teams`) — cover: `footbal.jpg` (внимание: `footbal`, без второй «l»)
- **Голливудские актёры** (`hollywood-actors`) — cover: `film-stars.png`
- **Баскетбольные игроки** (`basketball-players`) — cover: `basketball-players.jpg` (нейтральное название, подтверждено)
- **Баскетбольные команды** (`basketball-teams`) — cover: `basketball-teams.jpg`
- **Фильмы** (`movies`) — cover: `movies.jpg`
- **Футбольные игроки** (`football-players`) — cover: `football-players.jpg`

Карточки должны быть **одинакового размера**, заголовок **усекается** (ellipsis) так, чтобы **стрелка‑указатель не перекрывалась**.

## Правила папок и имен файлов изображений
Изображения постеров распределяются по тематическим папкам:

- `public/posters/` — общий пул (по id элемента)
- `public/posters-football/` — футбольные команды
- `public/posters-actors/` — актёры
- `public/posters-basketball/` — баскетболисты
- `public/posters-basketball-teams/` — баскетбольные команды
- `public/posters-movies/` — фильмы
- `public/posters-football-players/` — футбольные игроки

Именование файлов: **`kebab-case`**, латиницей, `.jpg` по умолчанию. Известные исправления:
- `footbal.jpg` (обложка раздела футбола — без второй «l»)
- `angel-di-maria.jpg` — использовать корректное имя файла

Загрузка постеров: пользователь кладёт файлы самостоятельно в соответствующие папки, имя файла должно совпадать с `id` элемента (например, `breaking-bad.jpg`). Для показа используется **фоллбек‑логика**: проверяются несколько папок/расширений, пока изображение не найдено.

## UI‑правки (стрелки, заголовки, кнопки, тексты)
- Главная: заголовок — «Создавай уникальные тир‑листы»; подзаголовок — «Разрабатывай свои тир‑листы и исследуй публичные подборки сообщества» (без точки), шрифт чуть крупнее и ближе к заголовку. Текст центрирован. Исправить возможное **срезание буквы «у»** в градиентном заголовке.
- Хедер: логотип **TierWorks** кликабелен, ведёт на главную. Кнопки навигации: «Главная», «Конструктор» — **белые**, без градиента. «Публичные тир‑листы» — подсветка при ховере в стиле `aiart-zroo.onrender.com/text-to-image`, но с нашей цветовой схемой; сделать оттенок **светлее** (раньше был слишком фиолетовый). Ховер/актив подсветки **в стиле градиента** заголовка.
- Карточки на главной и в публичном каталоге — **кликабельные**; кнопку «Открыть конструктор» убрать.
- Визуализация карточек: **стрелка не должна перекрываться** заголовком; добавить отступы/паддинги и трим текста, как реализовано.
- Стрелка «Назад» на страницах деталей публичных наборов — в фирменном стиле, **без дублирования**.

## DnD/распределение (логика выбора, «Без оценки»)
- Билдер (личный конструктор): поддерживается **перетаскивание** S/A/B/C/D/U.
- Публичные наборы (страница детали): 
  - Ранжирование **интерактивно прямо на странице**. Основной сценарий — выбор через **правую панель распределения** и/или клики по элементам.
  - При заходе на страницу — **автоматический случайный выбор** элемента из пула. После распределения — **переход к следующему** элементу по очереди. Кнопка «Пропустить» отправляет элемент в **конец очереди**.
  - Клик по карточке в пуле меняет текущий выбранный элемент.
  - Кнопки «Автоподбор» и «Переопределить» — **удалены** (не нужны).
  - Доп. категория: **«Без оценки»** (id: `U`). На сетке категорий — лейбл центрирован; в правой панели кнопка `U` расположена **справа от D**. Панель распределения — **три строки**.
  - Титул страницы деталей публичного набора отображает **реальное название** набора.

## Тексты/локализация
- Основной слоган: «Создавай уникальные тир‑листы»
- Подзаголовок: «Разрабатывай свои тир‑листы и исследуй публичные подборки сообщества»
- Раздел «Публичные тир‑листы»: убрать «В будущем» в описаниях.

## Технологии
- React + TypeScript
- Роутинг: `react-router-dom` c `HashRouter`
- DnD: `@dnd-kit/core`, `@dnd-kit/sortable` (в билдере)
- Стили: CSS (переменные темы Indigo/Slate); медиазапросы, `clamp()`; трим текста с ellipsis
- Хранение: `localStorage` для пользовательских шаблонов
- Сборка: esbuild; CSS собирается отдельным скриптом; dev‑server — `live-server`

## Содержимое публичных наборов
- «Сериалы 2000–2025» — 50 тайтлов (постеры пользователь добавляет вручную)
- «Футбольные команды» — расширенный список команд
- «Голливудские актёры» — расширенный список, включая: Tom Holland, Woody Harrelson, Colin Farrell, Jesse Eisenberg, Aaron Paul и др.
- «Баскетбольные игроки» — ~55 легенд + ~15 актуальных на 2025
- «Баскетбольные команды» — ~30 команд
- «Фильмы» — 40 топ‑фильмов
- «Футбольные игроки» — ~50 легенд и актуальных игроков

Подробные данные и id хранятся в `src/publicTemplates.ts`. Постеры — в соответствующих папках (см. выше). Для несуществующих картинок действует фоллбек‑поиск.

## Запуск/разработка (Windows)
В терминале PowerShell:

```
cd tierworks
npm install --no-audit --no-fund --loglevel=warn
npm run dev
```

Открыть: `http://localhost:5174/#/public`

Если терминал «зависает» в OneDrive:
- Запускайте `powershell -NoProfile`
- Отключите Files‑On‑Demand или перенесите проект из OneDrive
- Используйте неинтерактивные флаги при `npm install`

## TODO/доработки
- Авторизация (позже)
- Публикация на GitHub Pages
- Импорт/экспорт пользовательских шаблонов как файла
- Поиск/фильтры в публичных наборах

## Скриншоты (примеры)
- `docs/1.png` — главная страница
- `docs/2.png` — «Фильмы» (детали публичного набора)